# 06 - State and useState Hook in React

---

# 1. What is State?

State is data that changes over time inside a component.

State is:
- Managed inside the component
- Changeable
- Causes re-render when updated

Examples of state:
- Counter value
- Form input value
- Logged-in user
- Theme mode (dark/light)

---

# 2. Props vs State

| Props | State |
|-------|--------|
| Passed from parent | Managed inside component |
| Read-only | Can be updated |
| Makes component reusable | Controls component behavior |

---

# 3. useState Hook

React provides a Hook called `useState` to manage state in functional components.

Syntax:

```jsx
const [state, setState] = useState(initialValue);
````

* state → current value
* setState → function to update value
* initialValue → starting value

---

# 4. Basic Example (Counter)

```jsx
import { useState } from "react";

function App() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <h1>Counter App</h1>
      <h2>{count}</h2>
      <button onClick={() => setCount(count + 1)}>Increase</button>
    </div>
  );
}

export default App;
```

When button is clicked:

* State updates
* Component re-renders
* UI updates

---

# 5. Updating State Properly

Never update state directly like this:

```jsx
count = count + 1;  // Wrong
```

Always use setter function:

```jsx
setCount(count + 1);  // Correct
```

---

# 6. Functional Update (Best Practice for Previous State)

When new state depends on old state, use function form:

```jsx
setCount((prevCount) => prevCount + 1);
```

Why?
Because state updates are asynchronous.

---

# 7. Multiple State Variables

You can use multiple useState hooks.

Example:

```jsx
import { useState } from "react";

function App() {
  const [name, setName] = useState("");
  const [age, setAge] = useState(0);

  return (
    <div>
      <input 
        type="text" 
        placeholder="Enter name"
        onChange={(e) => setName(e.target.value)}
      />

      <input 
        type="number"
        placeholder="Enter age"
        onChange={(e) => setAge(e.target.value)}
      />

      <h2>Name: {name}</h2>
      <h2>Age: {age}</h2>
    </div>
  );
}

export default App;
```

---

# 8. Managing Objects in State

State can store objects.

Example:

```jsx
import { useState } from "react";

function App() {
  const [user, setUser] = useState({
    name: "",
    age: ""
  });

  function handleChange(e) {
    setUser({
      ...user,
      [e.target.name]: e.target.value
    });
  }

  return (
    <div>
      <input 
        name="name"
        placeholder="Enter name"
        onChange={handleChange}
      />

      <input 
        name="age"
        placeholder="Enter age"
        onChange={handleChange}
      />

      <h2>{user.name}</h2>
      <h2>{user.age}</h2>
    </div>
  );
}

export default App;
```

Important:

* Use spread operator `...`
* Never modify object directly

Wrong:

```jsx
user.name = "Varun";
```

Correct:

```jsx
setUser({ ...user, name: "Varun" });
```

---

# 9. Managing Arrays in State

Example:

```jsx
import { useState } from "react";

function App() {
  const [items, setItems] = useState([]);

  function addItem() {
    setItems([...items, "New Item"]);
  }

  return (
    <div>
      <button onClick={addItem}>Add Item</button>

      <ul>
        {items.map((item, index) => (
          <li key={index}>{item}</li>
        ))}
      </ul>
    </div>
  );
}

export default App;
```

Important:

* Always create new array using spread operator
* Do not push directly

Wrong:

```jsx
items.push("Item");  // Wrong
```

Correct:

```jsx
setItems([...items, "Item"]);  // Correct
```

---

# 10. Removing Items from Array State

```jsx
function removeItem(indexToRemove) {
  setItems(items.filter((_, index) => index !== indexToRemove));
}
```

---

# 11. Why We Must Not Mutate State

React detects changes using reference comparison.

If you modify state directly:

* React may not detect change
* UI may not update

Always create new object or array.
